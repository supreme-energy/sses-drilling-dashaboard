image: experoinc/ci-frontend-node8

pipelines:
  branches:
    'master':
      - step:
          name: Build and test
          caches:
            - node
          script:
            - yarn
            - yarn run lint
            - yarn run build
    'develop':
      - step:
          name: Build and test
          caches:
            - node
          script:
            - yarn
            - yarn run lint
            - yarn run build
      - step:
          name: Deploy
          caches:
            - node
          script:
            - yarn run deploy